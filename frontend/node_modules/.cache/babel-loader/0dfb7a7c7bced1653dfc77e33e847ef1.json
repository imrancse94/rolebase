{"ast":null,"code":"var _jsxFileName = \"/mnt/dd0d06d8-211e-4bf9-8e9e-452e5728c234/htdocs/rolebase/frontend/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./store/index\";\nimport { Provider } from \"react-redux\";\nimport axios from \"axios\";\nimport cookie from \"js-cookie\";\nimport jwt from \"jsonwebtoken\";\nimport 'react-app-polyfill/ie9'; // For IE 9-11 support\n\nimport 'react-app-polyfill/stable'; // import 'react-app-polyfill/ie11'; // For IE 11 support\n\nimport './polyfill';\nconst jwt_secret = \"knCj1t1a1ctajE7lWF9yddGGHKbRZUDxtXYbBdNyyQhv5bUe12e7uK9QYloOTrGm\";\nlet token = cookie.get(\"token\");\n\nif (token) {\n  jwt.verify(token, jwt_secret, (err, decoded) => {\n    if (err) {\n      cookie.remove(\"token\");\n      token = null;\n    } else {\n      if (decoded.iss !== \"http://localhost:8000/api/auth/login\") {\n        cookie.remove(\"token\");\n        token = null;\n      }\n    }\n  });\n}\n\nconst render = () => {\n  ReactDOM.render(React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(App, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), document.getElementById(\"root\"));\n};\n\nif (token) {\n  axios.defaults.headers.common[\"Authorization\"] = \"Bearer \".concat(token);\n  axios.post(\"http://localhost:8000/api/auth/me\").then(res => {\n    store.dispatch({\n      type: \"SET_LOGIN\",\n      payload: res.data\n    });\n    render();\n  });\n} else {\n  render();\n} // If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n\nserviceWorker.unregister();","map":{"version":3,"sources":["/mnt/dd0d06d8-211e-4bf9-8e9e-452e5728c234/htdocs/rolebase/frontend/src/index.js"],"names":["React","ReactDOM","App","serviceWorker","store","Provider","axios","cookie","jwt","jwt_secret","token","get","verify","err","decoded","remove","iss","render","document","getElementById","defaults","headers","common","post","then","res","dispatch","type","payload","data","unregister"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,aAAP;AACA,SAAQC,GAAR,QAAkB,OAAlB;AACA,OAAO,KAAKC,aAAZ,MAA+B,iBAA/B;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAO,wBAAP,C,CAAiC;;AACjC,OAAO,2BAAP,C,CACA;;AACA,OAAO,YAAP;AAEA,MAAMC,UAAU,GAAG,kEAAnB;AAEA,IAAIC,KAAK,GAAGH,MAAM,CAACI,GAAP,CAAW,OAAX,CAAZ;;AACA,IAAID,KAAJ,EAAW;AACTF,EAAAA,GAAG,CAACI,MAAJ,CAAWF,KAAX,EAAkBD,UAAlB,EAA8B,CAACI,GAAD,EAAMC,OAAN,KAAkB;AAC9C,QAAID,GAAJ,EAAS;AACPN,MAAAA,MAAM,CAACQ,MAAP,CAAc,OAAd;AACAL,MAAAA,KAAK,GAAG,IAAR;AACD,KAHD,MAGO;AACL,UAAII,OAAO,CAACE,GAAR,KAAgB,sCAApB,EAA4D;AAC1DT,QAAAA,MAAM,CAACQ,MAAP,CAAc,OAAd;AACAL,QAAAA,KAAK,GAAG,IAAR;AACD;AACF;AACF,GAVD;AAWD;;AAED,MAAMO,MAAM,GAAG,MAAM;AACnBhB,EAAAA,QAAQ,CAACgB,MAAT,CACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEb,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIEc,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF;AAMD,CAPD;;AAQA,IAAIT,KAAJ,EAAW;AACTJ,EAAAA,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,qBAA2DZ,KAA3D;AACAJ,EAAAA,KAAK,CAACiB,IAAN,CAAW,mCAAX,EAAgDC,IAAhD,CAAqDC,GAAG,IAAI;AAC1DrB,IAAAA,KAAK,CAACsB,QAAN,CAAe;AAAEC,MAAAA,IAAI,EAAE,WAAR;AAAqBC,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAAlC,KAAf;AACAZ,IAAAA,MAAM;AACP,GAHD;AAID,CAND,MAMO;AACLA,EAAAA,MAAM;AACP,C,CAED;AACA;AACA;;;AACAd,aAAa,CAAC2B,UAAd","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport {App} from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./store/index\";\nimport { Provider } from \"react-redux\";\nimport axios from \"axios\";\nimport cookie from \"js-cookie\";\nimport jwt from \"jsonwebtoken\";\nimport 'react-app-polyfill/ie9'; // For IE 9-11 support\nimport 'react-app-polyfill/stable';\n// import 'react-app-polyfill/ie11'; // For IE 11 support\nimport './polyfill'\n\nconst jwt_secret = \"knCj1t1a1ctajE7lWF9yddGGHKbRZUDxtXYbBdNyyQhv5bUe12e7uK9QYloOTrGm\";\n\nlet token = cookie.get(\"token\");\nif (token) {\n  jwt.verify(token, jwt_secret, (err, decoded) => {\n    if (err) {\n      cookie.remove(\"token\");\n      token = null;\n    } else {\n      if (decoded.iss !== \"http://localhost:8000/api/auth/login\") {\n        cookie.remove(\"token\");\n        token = null;\n      }\n    }\n  });\n}\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n};\nif (token) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  axios.post(\"http://localhost:8000/api/auth/me\").then(res => {\n    store.dispatch({ type: \"SET_LOGIN\", payload: res.data });\n    render();\n  });\n} else {\n  render();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}